<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬äºŒæœŸï¼šCursor Rules æ¶æ„è®¾è®¡ä¸è¿›é˜¶æŠ€å·§ - ä»æˆ˜ç•¥è“å›¾åˆ°å·¥ç¨‹å®è·µ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5em;
            color: #2c3e50;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2em;
            color: #7f8c8d;
            margin-bottom: 20px;
        }

        .nav {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            font-size: 0.9em;
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .content-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 2em;
            color: #2c3e50;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #667eea;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 60px;
            height: 3px;
            background: #764ba2;
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .highlight-box h3 {
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #667eea;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .feature-card h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            border-left: 5px solid #667eea;
        }

        .code-block pre {
            margin: 0;
            white-space: pre-wrap;
        }

        .architecture-diagram {
            background: #f8f9fa;
            border: 2px solid #667eea;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            text-align: center;
        }

        .layer {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            position: relative;
        }

        .layer h4 {
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .arrow-down {
            text-align: center;
            font-size: 2em;
            color: #667eea;
            margin: 10px 0;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .comparison-table th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }

        .comparison-table td {
            padding: 15px;
            border-bottom: 1px solid #ecf0f1;
            background: white;
        }

        .comparison-table tr:nth-child(even) td {
            background: #f8f9fa;
        }

        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-left: 5px solid #fdcb6e;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .warning-box h4 {
            color: #e17055;
            margin-bottom: 10px;
        }

        .success-box {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-left: 5px solid #28a745;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .success-box h4 {
            color: #155724;
            margin-bottom: 10px;
        }

        .principle-card {
            background: white;
            border: 2px solid #667eea;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            transition: all 0.3s ease;
        }

        .principle-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }

        .principle-card h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .step-card {
            background: linear-gradient(45deg, #f8f9fa, #e9ecef);
            border-left: 5px solid #667eea;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
        }

        .step-number {
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }

        .footer {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            margin-top: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header {
                padding: 25px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .content-section {
                padding: 25px;
            }
            
            .nav {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <h1>ğŸ—ï¸ ç¬¬äºŒæœŸï¼šCursor Rules æ¶æ„è®¾è®¡ä¸è¿›é˜¶æŠ€å·§</h1>
            <p>ä»æˆ˜ç•¥è“å›¾åˆ°å·¥ç¨‹å®è·µçš„æƒå¨æŒ‡å—</p>
            <div class="nav">
                <a href="#architecture" class="nav-btn">å¤šå±‚æ¬¡æ¶æ„</a>
                <a href="#principles" class="nav-btn">è®¾è®¡åŸåˆ™</a>
                <a href="#implementation" class="nav-btn">å®æ–½æŒ‡å—</a>
                <a href="#example" class="nav-btn">å®æˆ˜ç¤ºä¾‹</a>
            </div>
        </div>

        <!-- å¤šå±‚æ¬¡è§„åˆ™æ¶æ„ -->
        <div id="architecture" class="content-section">
            <h2 class="section-title">ğŸ—ï¸ å¤šå±‚æ¬¡è§„åˆ™æ¶æ„éªŒè¯</h2>
            
            <div class="highlight-box">
                <h3>ğŸ’¡ æ ¸å¿ƒç†å¿µ</h3>
                <p>å¤šå±‚æ¬¡è§„åˆ™æ¶æ„å°†AIä»ç®€å•çš„ä»£ç è¡¥å…¨å·¥å…·è½¬å˜ä¸ºæ·±åº¦ç†è§£é¡¹ç›®æ¶æ„ã€éµå¾ªå›¢é˜Ÿæœ€ä½³å®è·µçš„æ™ºèƒ½å¼€å‘ä¼™ä¼´ã€‚è¿™æ˜¯ä¸€ç§ä»æŒ‡ä»¤å¼äº¤äº’åˆ°ç¼–æ’å¼æ§åˆ¶çš„é‡å¤§èŒƒå¼è½¬å˜ã€‚</p>
            </div>

            <div class="architecture-diagram">
                <h3 style="color: #2c3e50; margin-bottom: 20px;">ä¸‰å±‚è§„åˆ™æ¶æ„ä½“ç³»</h3>
                
                <div class="layer">
                    <h4>ğŸŒ å…¨å±€åŸºç¡€å±‚ (User Rules)</h4>
                    <p>ä¸ªäººåå¥½ â€¢ é€šç”¨ç¼–ç å“²å­¦ â€¢ AIæ²Ÿé€šé£æ ¼</p>
                </div>
                
                <div class="arrow-down">â¬‡ï¸</div>
                
                <div class="layer">
                    <h4>ğŸ—ï¸ é¡¹ç›®è“å›¾å±‚ (Always-On Project Rules)</h4>
                    <p>æŠ€æœ¯æ ˆè§„èŒƒ â€¢ æ¶æ„æ¨¡å¼ â€¢ æ ¸å¿ƒç¦ä»¤</p>
                </div>
                
                <div class="arrow-down">â¬‡ï¸</div>
                
                <div class="layer">
                    <h4>ğŸ”§ ä¸“ä¸šåŒ–å·¥å…·ç®± (Context-Aware Rules)</h4>
                    <p>Auto Attached â€¢ Agent Requested â€¢ Nested â€¢ Manual</p>
                </div>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>ğŸŒ å…¨å±€åŸºç¡€ â†’ User Rules</h4>
                    <p><strong>ä½œç”¨åŸŸï¼š</strong>æ‰€æœ‰é¡¹ç›®<br>
                    <strong>å†…å®¹ï¼š</strong>AIè§’è‰²å®šä¹‰ã€æ²Ÿé€šé£æ ¼ã€ä¸ªäººç¼–ç å“²å­¦<br>
                    <strong>ç‰¹ç‚¹ï¼š</strong>çº¯æ–‡æœ¬æ ¼å¼ï¼Œå…¨å±€ç”Ÿæ•ˆ</p>
                </div>
                
                <div class="feature-card">
                    <h4>ğŸ—ï¸ é¡¹ç›®è“å›¾ â†’ Always-On Rules</h4>
                    <p><strong>ä½œç”¨åŸŸï¼š</strong>å•ä¸ªé¡¹ç›®<br>
                    <strong>å†…å®¹ï¼š</strong>æŠ€æœ¯æ ˆã€æ¶æ„åŸåˆ™ã€å…³é”®ç¦ä»¤<br>
                    <strong>ç‰¹ç‚¹ï¼š</strong>.mdcæ ¼å¼ï¼ŒalwaysApply: true</p>
                </div>
                
                <div class="feature-card">
                    <h4>ğŸ”§ ä¸“ä¸šåŒ–å·¥å…·ç®± â†’ Context-Aware</h4>
                    <p><strong>ä½œç”¨åŸŸï¼š</strong>ç‰¹å®šä¸Šä¸‹æ–‡<br>
                    <strong>å†…å®¹ï¼š</strong>é¢†åŸŸç‰¹å®šæ ‡å‡†ã€å·¥ä½œæµSOP<br>
                    <strong>ç‰¹ç‚¹ï¼š</strong>æŒ‰éœ€æ¿€æ´»ï¼Œæœ€å¤§åŒ–ä»¤ç‰Œæ•ˆç‡</p>
                </div>
            </div>

            <div class="success-box">
                <h4>âœ… æ™ºèƒ½ä½“æ§åˆ¶ç³»ç»Ÿ</h4>
                <p>è¿™ç§æ¶æ„å°†AIè½¬å˜ä¸ºä¸€ä¸ªå…·æœ‰"è®¤çŸ¥å±‚"çš„æ™ºèƒ½ä½“ï¼Œèƒ½å¤Ÿæ„ŸçŸ¥é¡¹ç›®çŠ¶æ€ã€æ¨ç†ä»»åŠ¡éœ€æ±‚ã€è§„åˆ’æ‰§è¡Œè·¯å¾„ã€‚å®ƒä¸å†æ˜¯ç®€å•åœ°æ‰§è¡ŒæŒ‡ä»¤ï¼Œè€Œæ˜¯åŸºäºé¢„è®¾çš„ä»·å€¼è§‚å’Œçº¦æŸè¿›è¡Œæ™ºèƒ½å†³ç­–ã€‚</p>
            </div>
        </div>

        <!-- è®¾è®¡åŸåˆ™ -->
        <div id="principles" class="content-section">
            <h2 class="section-title">âš–ï¸ é«˜æ•ˆè§„åˆ™æ¶æ„è®¾è®¡çš„æ ¸å¿ƒåŸåˆ™</h2>
            
            <div class="highlight-box">
                <h3>ğŸ¯ äº”å¤§æ ¸å¿ƒåŸåˆ™</h3>
                <p>è®¾è®¡å¼ºå¤§è€ŒæŒä¹…çš„Cursorè§„åˆ™æ¶æ„ï¼Œéœ€è¦éµå¾ªäº”ä¸ªåŸºçŸ³åŸåˆ™ï¼Œè¿™äº›åŸåˆ™å°†æŒ‡å¯¼æ‚¨æ„å»ºé«˜æ•ˆã€å¯ç»´æŠ¤çš„è§„åˆ™ä½“ç³»ã€‚</p>
            </div>

            <div class="principle-card">
                <h3>ğŸ’° 1. ä»¤ç‰Œç»æµå­¦åŸåˆ™</h3>
                <p><strong>æ ¸å¿ƒç†å¿µï¼š</strong>ä»¤ç‰Œæ˜¯æœ€ç¨€ç¼ºçš„èµ„æº</p>
                <p>ç”¨äºè§„åˆ™çš„ä»¤ç‰Œ = æ— æ³•ç”¨äºç†è§£ä»£ç ä¸Šä¸‹æ–‡çš„ä»¤ç‰Œã€‚è¿‡é•¿çš„è§„åˆ™ä¼šå¯¼è‡´AI"åˆ†å¿ƒ"ï¼Œè¡¨ç°ç”šè‡³ä¸å¦‚æ²¡æœ‰è§„åˆ™çš„AIã€‚</p>
                <ul style="margin-top: 10px;">
                    <li>ä¿æŒå•ä¸ªè§„åˆ™æ–‡ä»¶åœ¨500è¡Œä»¥ä¸‹</li>
                    <li>æ¯æ¡è§„åˆ™åªå…³æ³¨ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µ</li>
                    <li>ç»„åˆä¼˜äºç»§æ‰¿ï¼Œåˆ†è§£å¤æ‚æ¦‚å¿µä¸ºå°è§„åˆ™</li>
                </ul>
            </div>

            <div class="principle-card">
                <h3>ğŸ” 2. çŸ¥è¯†ç²’åº¦åŸåˆ™</h3>
                <p><strong>æ ¸å¿ƒç†å¿µï¼š</strong>è§£æ„å¤æ‚æ€§</p>
                <p>å°†å®å¤§æŠ½è±¡çš„æ ‡å‡†åˆ†è§£ä¸ºå…·ä½“ã€ç»†ç²’åº¦ã€å¯æ“ä½œçš„è§„åˆ™ï¼Œå®ç°"æ°åˆ°å¥½å¤„"çš„ä¸Šä¸‹æ–‡åŠ è½½ã€‚</p>
                <div class="code-block">
                    <pre>// ç²’åº¦åˆ†è§£ç¤ºä¾‹
testing.mdc â†’ åˆ†è§£ä¸ºï¼š
â”œâ”€â”€ unit-testing.mdc
â”œâ”€â”€ integration-testing.mdc
â””â”€â”€ e2e-testing-playwright.mdc</pre>
                </div>
            </div>

            <div class="principle-card">
                <h3>ğŸ¯ 3. å…·ä½“æ€§ä¸å¯æ“ä½œæ€§åŸåˆ™</h3>
                <p><strong>æ ¸å¿ƒç†å¿µï¼š</strong>ä»æ¨¡ç³Šåˆ°ç”ŸåŠ¨</p>
                <p>AIçš„è¡¨ç°ä¸æŒ‡ä»¤æ¸…æ™°åº¦æˆæ­£æ¯”ã€‚é¿å…æ¨¡ç³Šè¡¨è¿°ï¼Œæä¾›ç”ŸåŠ¨èŒƒä¾‹å’Œæ˜ç¡®çš„Do/Don'tæ¸…å•ã€‚</p>
                <div class="code-block">
                    <pre>âŒ æ¨¡ç³Šï¼šä½¿ç”¨è‰¯å¥½çš„å‘½åè§„èŒƒ
âœ… å…·ä½“ï¼šç»„ä»¶æ–‡ä»¶åå¿…é¡»ä½¿ç”¨å¸•æ–¯å¡å‘½åæ³•ï¼Œä¾‹å¦‚ UserProfileCard.tsx
âœ… å…·ä½“ï¼šå·¥å…·å‡½æ•°æ–‡ä»¶åå¿…é¡»ä½¿ç”¨é©¼å³°å‘½åæ³•ï¼Œä¾‹å¦‚ calculateTotal.ts</pre>
                </div>
            </div>

            <div class="principle-card">
                <h3>ğŸ“ 4. "è§„åˆ™å³ä»£ç "åŸåˆ™</h3>
                <p><strong>æ ¸å¿ƒç†å¿µï¼š</strong>çºªå¾‹åŒ–çš„æ–¹æ³•è®º</p>
                <p>å°†è§„åˆ™è§†ä¸ºé¡¹ç›®ä»£ç åº“çš„ä¸€ç­‰å…¬æ°‘ï¼Œé‡‡ç”¨ä¸ç®¡ç†æºä»£ç åŒç­‰ä¸¥æ ¼çš„çºªå¾‹ã€‚</p>
                <ul style="margin-top: 10px;">
                    <li>ç‰ˆæœ¬æ§åˆ¶ï¼šå­˜å‚¨åœ¨.cursor/rulesç›®å½•</li>
                    <li>ä»£ç å®¡æŸ¥ï¼šè§„åˆ™ä¿®æ”¹çº³å…¥PRæµç¨‹</li>
                    <li>æŒç»­ç»´æŠ¤ï¼šéšé¡¹ç›®æ¼”è¿›æ›´æ–°è§„åˆ™</li>
                    <li>çŸ¥è¯†æ²‰æ·€ï¼šå°†éšæ€§çŸ¥è¯†æ˜¾æ€§åŒ–</li>
                </ul>
            </div>

            <div class="principle-card">
                <h3>ğŸ¤ 5. äººåœ¨å›è·¯ä¸­çš„å¿…è¦æ€§åŸåˆ™</h3>
                <p><strong>æ ¸å¿ƒç†å¿µï¼š</strong>å¢å¼ºè€Œéå–ä»£</p>
                <p>AIçš„ä½œç”¨æ˜¯å¢å¼ºå¼€å‘è€…èƒ½åŠ›ï¼Œè€Œä¸æ˜¯å–ä»£å¼€å‘è€…åˆ¤æ–­ã€‚å¼€å‘è€…æ˜¯æœºé•¿ï¼ŒAIæ˜¯å‰¯é©¾é©¶ã€‚</p>
                <div class="success-box" style="margin-top: 15px;">
                    <h4>æˆ˜ç•¥æ„ä¹‰</h4>
                    <p>è‡ªåŠ¨åŒ–é‡å¤æ€§ã€å·²è¾¾æˆå…±è¯†çš„åŠ³åŠ¨ï¼Œè§£æ”¾å¼€å‘è€…ä¸“æ³¨äºé«˜é˜¶åˆ›é€ æ€§ä»»åŠ¡ï¼šç³»ç»Ÿæ¶æ„è®¾è®¡ã€æŠ€æœ¯éš¾é¢˜è§£å†³ã€ä¸šåŠ¡é€»è¾‘æ€è€ƒã€‚</p>
                </div>
            </div>
        </div>

        <!-- å®æ–½æˆ˜ç•¥è“å›¾ -->
        <div id="implementation" class="content-section">
            <h2 class="section-title">ğŸš€ å®æ–½æˆ˜ç•¥è“å›¾ï¼šåˆ†æ­¥æŒ‡å—</h2>
            
            <div class="highlight-box">
                <h3>ğŸ“‹ å››é˜¶æ®µå®æ–½æµç¨‹</h3>
                <p>ä»é›¶å¼€å§‹æ„å»ºå®Œæ•´çš„å¤šå±‚æ¬¡è§„åˆ™æ¶æ„ï¼Œéµå¾ªæ¸…æ™°ã€å¯æ“ä½œçš„åˆ†æ­¥æŒ‡å—ï¼Œå¾ªåºæ¸è¿›åœ°å»ºç«‹å¼ºå¤§çš„AIåä½œä½“ç³»ã€‚</p>
            </div>

            <div class="step-card">
                <h3><span class="step-number">1</span>ç¬¬ä¸€é˜¶æ®µï¼šå¥ å®šå…¨å±€åŸºç¡€ (User Rules)</h3>
                <p><strong>ç›®æ ‡ï¼š</strong>å®šä¹‰ä¸ªäººçš„ã€è·¨æ‰€æœ‰é¡¹ç›®çš„AIäº¤äº’åå¥½</p>
                <p><strong>æ“ä½œï¼š</strong>Cursor Settings â†’ Rules â†’ User Rules</p>
                <div class="code-block">
                    <pre>// ç¤ºä¾‹ï¼šå…¨å±€ç”¨æˆ·è§„åˆ™
- æ‰®æ¼”ä¸“ç²¾åˆ†å¸ƒå¼ç³»ç»Ÿçš„é«˜çº§è½¯ä»¶æ¶æ„å¸ˆè§’è‰²
- ç®€æ´ã€æŠ€æœ¯æ€§åœ°å›å¤ï¼Œé¿å…å†—ä½™çš„å¯¹è¯å¡«å……
- æä¾›é€‰é¡¹æ—¶ï¼Œä»æ€§èƒ½ã€å¯æ‰©å±•æ€§ã€å¯ç»´æŠ¤æ€§è§’åº¦è§£é‡Šæƒè¡¡
- æ‰€æœ‰ä»£ç ç¤ºä¾‹å¿…é¡»ä½¿ç”¨ TypeScript</pre>
                </div>
                <div class="warning-box">
                    <h4>âš ï¸ æ³¨æ„äº‹é¡¹</h4>
                    <p>ä¿æŒæç®€æ€§ï¼ŒåªåŒ…å«çœŸæ­£æ™®é€‚çš„ã€é«˜ä»·å€¼çš„æŒ‡ä»¤ã€‚æ¯æ¡è§„åˆ™éƒ½ä¼šåœ¨æ‰€æœ‰AIè¯·æ±‚ä¸­æ¶ˆè€—ä»¤ç‰Œã€‚</p>
                </div>
            </div>

            <div class="step-card">
                <h3><span class="step-number">2</span>ç¬¬äºŒé˜¶æ®µï¼šæ„å»ºé¡¹ç›®è“å›¾ (Always-On Rules)</h3>
                <p><strong>ç›®æ ‡ï¼š</strong>ä¸ºå…·ä½“é¡¹ç›®ç¼–ç ä¸å¯åŠ¨æ‘‡çš„æ ¸å¿ƒæ¶æ„å’Œè§„èŒƒ</p>
                <p><strong>æ“ä½œï¼š</strong>åˆ›å»º .cursor/rules/project-core.mdc</p>
                <div class="code-block">
                    <pre>---
alwaysApply: true
description: "é¡¹ç›®æ ¸å¿ƒæ¶æ„åŸåˆ™å’Œæ ‡å‡†"
---

# é¡¹ç›®æ ¸å¿ƒåŸåˆ™
## 1. é¡¹ç›®æ¦‚è¿°
è¿™æ˜¯ä¸€ä¸ªç°ä»£ç”µå•†å¹³å°çš„åç«¯APIé¡¹ç›®ã€‚

## 2. æŠ€æœ¯æ ˆ
- Next.js 14+ (App Router)
- TypeScript 5+ (ä¸¥æ ¼æ¨¡å¼)
- Supabase (PostgreSQL 15+)

## 3. æ¶æ„å¼ºåˆ¶è¦æ±‚
- **å®‰å…¨ä¼˜å…ˆï¼š** æ‰€æœ‰æ•°æ®åº“æŸ¥è¯¢å¿…é¡»å¼ºåˆ¶æ‰§è¡ŒRLS
- **ä»…ä½¿ç”¨APIè·¯ç”±ï¼š** ä½¿ç”¨App Routeråˆ›å»ºAPIè·¯ç”±
- **éªŒè¯æ˜¯å¼ºåˆ¶çš„ï¼š** æ‰€æœ‰è¯·æ±‚å¿…é¡»ä½¿ç”¨Zodæ¨¡å¼éªŒè¯

## 4. å…³é”®ç¦ä»¤
- ğŸš¨ ç»ä¸ä»å·²åºŸå¼ƒçš„ @supabase/auth-helpers-nextjs å¯¼å…¥
- ğŸš¨ ç»ä¸åœ¨åº”ç”¨ä»£ç ä¸­ç¼–å†™åŸå§‹SQLå­—ç¬¦ä¸²</pre>
                </div>
            </div>

            <div class="step-card">
                <h3><span class="step-number">3</span>ç¬¬ä¸‰é˜¶æ®µï¼šæ‰“é€ ä¸“ä¸šåŒ–å·¥å…·ç®± (Context-Aware Rules)</h3>
                <p><strong>ç›®æ ‡ï¼š</strong>åˆ›å»ºç»†ç²’åº¦è§„åˆ™åº“ï¼Œä»…åœ¨ç‰¹å®šä¸Šä¸‹æ–‡ä¸­æ¿€æ´»</p>
                
                <h4>3.1 Auto Attached è§„åˆ™ç¤ºä¾‹</h4>
                <div class="code-block">
                    <pre>// /src/components/ui/.cursor/rules/styling.mdc
---
globs: ["*.tsx"]
description: "UIç»„ä»¶æ ·å¼è§„åˆ™"
---

# æ ·å¼æ ‡å‡†
- å§‹ç»ˆä½¿ç”¨ Tailwind CSS è¿›è¡Œæ ·å¼è®¾è®¡
- ä¸è¦ä½¿ç”¨å†…è”æ ·å¼æˆ– CSS-in-JS åº“
- æ‰€æœ‰é¢œè‰²å€¼å¿…é¡»æ¥è‡ª Tailwind ä¸»é¢˜é…ç½®</pre>
                </div>

                <h4>3.2 Agent Requested è§„åˆ™ç¤ºä¾‹</h4>
                <div class="code-block">
                    <pre>// .cursor/rules/create-new-endpoint.mdc
---
description: "åˆ›å»ºå®‰å…¨APIç«¯ç‚¹çš„åˆ†æ­¥æŒ‡å—"
---

# å¦‚ä½•åˆ›å»ºæ–°çš„APIç«¯ç‚¹
1. åœ¨ `/src/api/v1/[feature]/route.ts` ä¸­åˆ›å»ºè·¯ç”±å¤„ç†å™¨
2. å¯¼å…¥æœåŠ¡ç«¯ Supabase å®¢æˆ·ç«¯
3. ä½¿ç”¨ Zod æ¨¡å¼è¿›è¡Œè¯·æ±‚éªŒè¯
4. å®ç°èº«ä»½éªŒè¯ä¸­é—´ä»¶
5. åœ¨ try å—ä¸­æ·»åŠ ä¸šåŠ¡é€»è¾‘
6. åœ¨ catch å—ä¸­ä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯å¤„ç†å™¨</pre>
                </div>

                <h4>3.3 Manual è§„åˆ™ç¤ºä¾‹</h4>
                <div class="code-block">
                    <pre>// .cursor/rules/refactor-database-schema.mdc
---
description: "æ•°æ®åº“æ¶æ„é‡æ„å®‰å…¨æ£€æŸ¥æ¸…å•"
---

# æ•°æ®åº“æ¶æ„é‡æ„æ£€æŸ¥æ¸…å•
- **è­¦å‘Šï¼š** è¿™æ˜¯ä¸€ä¸ªé«˜é£é™©æ“ä½œ
- æ­¥éª¤1ï¼šç¡®è®¤æ•°æ®åº“å¤‡ä»½å·²å­˜åœ¨
- æ­¥éª¤2ï¼šç”Ÿæˆè¿ç§»è„šæœ¬
- æ­¥éª¤3ï¼šç¼–å†™å›æ»šè„šæœ¬
- æ­¥éª¤4ï¼šåœ¨åº”ç”¨å‰è¯·æ±‚äººå·¥ç¡®è®¤</pre>
                </div>
            </div>

            <div class="step-card">
                <h3><span class="step-number">4</span>ç¬¬å››é˜¶æ®µï¼šè¿­ä»£ä¼˜åŒ–å¾ªç¯</h3>
                <p><strong>ç›®æ ‡ï¼š</strong>æŒç»­æµ‹è¯•ã€è¯„ä¼°ã€æ”¹è¿›è§„åˆ™æ¶æ„</p>
                <ul style="margin-left: 20px;">
                    <li><strong>æç¤ºä¸è§‚å¯Ÿï¼š</strong>åˆ›å»ºè§„åˆ™åç«‹å³æµ‹è¯•AIè¡Œä¸º</li>
                    <li><strong>åˆ†æå¤±è´¥ï¼š</strong>æ‰¾å‡ºè§„åˆ™å¤ªæ¨¡ç³Šã€å¤æ‚æˆ–å†²çªçš„åŸå› </li>
                    <li><strong>ç²¾ç‚¼ï¼š</strong>é‡å†™è§„åˆ™ï¼Œä½¿å…¶æ›´å…·ä½“ã€æ·»åŠ èŒƒä¾‹</li>
                    <li><strong>ä»å¯¹è¯ä¸­ç”Ÿæˆï¼š</strong>ä½¿ç”¨ /Generate Cursor Rules å‘½ä»¤</li>
                    <li><strong>å›¢é˜Ÿåé¦ˆï¼š</strong>å°†è§„åˆ™å˜æ›´çº³å…¥ä»£ç å®¡æŸ¥æµç¨‹</li>
                </ul>
            </div>
        </div>

        <!-- å®æˆ˜ç¤ºä¾‹ -->
        <div id="example" class="content-section">
            <h2 class="section-title">ğŸ’¼ å®æˆ˜ç¤ºä¾‹ï¼šNext.js & Supabase ç”µå•†åç«¯</h2>
            
            <div class="highlight-box">
                <h3>ğŸ¯ é¡¹ç›®èƒŒæ™¯</h3>
                <p><strong>é¡¹ç›®ï¼š</strong>ç°ä»£ç”µå•†å¹³å°åç«¯API<br>
                <strong>æŠ€æœ¯æ ˆï¼š</strong>Next.js (App Router) + TypeScript + Supabase<br>
                <strong>æ ¸å¿ƒè¦æ±‚ï¼š</strong>é€šè¿‡è¡Œçº§å®‰å…¨(RLS)å®ç°æ•°æ®å®‰å…¨ï¼ŒåŠŸèƒ½åˆ‡ç‰‡è®¾è®¡æ¨¡å¼</p>
            </div>

            <h3>ğŸŒ ç¬¬ä¸€å±‚ï¼šå…¨å±€åŸºç¡€ (User Rules)</h3>
            <div class="code-block">
                <pre>// Cursor Settings â†’ Rules â†’ User Rules
- æ‰®æ¼”ä¸“ç²¾ TypeScriptã€Next.js å’Œ PostgreSQL çš„é«˜çº§å…¨æ ˆå¼€å‘è€…
- æŒ‰æ­¤ä¼˜å…ˆçº§ç¼–å†™ä»£ç ï¼šå®‰å…¨ã€å¯è¯»ã€æ€§èƒ½
- æä¾›é€‰é¡¹æ—¶ï¼Œè§£é‡Šæ¯ä¸ªé€‰é¡¹çš„æƒè¡¡
- ç®€æ´å›å¤ï¼Œé¿å…å†—ä½™çš„å¯¹è¯å¡«å……</pre>
            </div>

            <h3>ğŸ—ï¸ ç¬¬äºŒå±‚ï¼šé¡¹ç›®è“å›¾ (.cursor/rules/project-core.mdc)</h3>
            <div class="code-block">
                <pre>---
alwaysApply: true
description: "Next.js/Supabase ç”µå•†åç«¯æ ¸å¿ƒåŸåˆ™"
---

# é¡¹ç›®æ ¸å¿ƒåŸåˆ™

## 1. é¡¹ç›®æ¦‚è¿°
è¿™æ˜¯ä½¿ç”¨ Next.js App Router å’Œ Supabase æ„å»ºçš„ç”µå•†å¹³å°åç«¯APIã€‚

## 2. æŠ€æœ¯æ ˆ
- Next.js 14+ (App Router)
- TypeScript 5+ (å¯ç”¨ä¸¥æ ¼æ¨¡å¼)
- Supabase (PostgreSQL 15+)
- Zod ç”¨äºéªŒè¯
- pnpm ç”¨äºåŒ…ç®¡ç†

## 3. æ¶æ„å¼ºåˆ¶è¦æ±‚
- **å®‰å…¨ä¼˜å…ˆï¼š** æ‰€æœ‰æ•°æ®åº“æŸ¥è¯¢å¿…é¡»é€šè¿‡å¼ºåˆ¶æ‰§è¡ŒRLSçš„å®¢æˆ·ç«¯è¿›è¡Œ
- **ä»…ä½¿ç”¨APIè·¯ç”±ï¼š** ä½¿ç”¨App Routeråˆ›å»ºAPIè·¯ç”± (`/src/app/api/...`)
- **éªŒè¯æ˜¯å¼ºåˆ¶çš„ï¼š** æ‰€æœ‰ä¼ å…¥è¯·æ±‚å¿…é¡»ä½¿ç”¨Zodæ¨¡å¼éªŒè¯
- **é”™è¯¯å¤„ç†ï¼š** ä½¿ç”¨ `@/lib/errors.ts` ä¸­çš„è‡ªå®šä¹‰é”™è¯¯å¤„ç†å™¨

## 4. å…³é”®ç¦ä»¤
- ğŸš¨ ç»ä¸ä» `@supabase/auth-helpers-nextjs` å¯¼å…¥ã€‚ä½¿ç”¨ `@supabase/ssr`
- ğŸš¨ ç»ä¸ç¼–å†™åŸå§‹SQLå­—ç¬¦ä¸²ã€‚ä½¿ç”¨Supabase JSå®¢æˆ·ç«¯æˆ–RPCè°ƒç”¨</pre>
            </div>

            <h3>ğŸ”§ ç¬¬ä¸‰å±‚ï¼šä¸“ä¸šåŒ–å·¥å…·ç®±ç¤ºä¾‹</h3>

            <h4>SQLå‡½æ•°åµŒå¥—è§„åˆ™</h4>
            <div class="code-block">
                <pre>// /src/database/functions/.cursor/rules/sql-functions.mdc
---
globs: ["*.sql"]
description: "Supabaseä¸­PostgreSQLå‡½æ•°æ ‡å‡†"
---

# SQLå‡½æ•°æœ€ä½³å®è·µ
- ç»•è¿‡RLSçš„å‡½æ•°å¿…é¡»ä½¿ç”¨ `security definer`
- é»˜è®¤å‡½æ•°åº”ä½¿ç”¨ `security invoker` ä»¥éµå®ˆRLS
- ä½¿ç”¨ `COMMENT ON FUNCTION` æ·»åŠ æ³¨é‡Šä»¥ä¾¿æ–‡æ¡£åŒ–
- æ•°æ®ä¿®æ”¹ä½¿ç”¨ `VOLATILE`ï¼Œåªè¯»ä½¿ç”¨ `STABLE` æˆ– `IMMUTABLE`
- å§‹ç»ˆä¼˜é›…åœ°å¤„ç†æ½œåœ¨çš„ç©ºè¾“å…¥</pre>
            </div>

            <h4>APIè·¯ç”±è„šæ‰‹æ¶è§„åˆ™</h4>
            <div class="code-block">
                <pre>// .cursor/rules/scaffold-api-route.mdc
---
description: "åˆ›å»ºåŒ…å«éªŒè¯ã€è®¤è¯å’Œé”™è¯¯å¤„ç†çš„æ–°APIè·¯ç”±åˆ†æ­¥æŒ‡å—"
---

# å¦‚ä½•æ­å»ºæ–°çš„APIè·¯ç”±
1. åœ¨ `/src/app/api/[feature]/route.ts` ä¸­åˆ›å»ºè·¯ç”±å¤„ç†å™¨
2. å¯¼å…¥æœåŠ¡ç«¯Supabaseå®¢æˆ·ç«¯ï¼š`import { createClient } from '@/lib/supabase/server'`
3. ä» `@/lib/validators` å¯¼å…¥/å®šä¹‰Zodæ¨¡å¼
4. åœ¨POST/GETå‡½æ•°ä¸­ï¼Œåˆ›å»ºSupabaseå®¢æˆ·ç«¯
5. åœ¨try/catchä¸­ä½¿ç”¨Zodæ¨¡å¼éªŒè¯è¯·æ±‚è¾“å…¥
6. éªŒè¯ç”¨æˆ·èº«ä»½å¹¶æ£€æŸ¥æƒé™
7. å®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
8. è¿”å›å¸¦æœ‰é€‚å½“çŠ¶æ€ç å’Œæ•°æ®çš„NextResponse</pre>
            </div>

            <div class="success-box">
                <h4>âœ… é›†æˆç³»ç»Ÿåœ¨è¡ŒåŠ¨</h4>
                <p>å½“å¼€å‘è€…å‘å‡º"ä¸ºäº§å“æ¨¡å—æ·»åŠ åº“å­˜æ›´æ–°API"æŒ‡ä»¤æ—¶ï¼š</p>
                <ul>
                    <li><strong>å…¨å±€åŸºç¡€</strong>è®¾å®šå›åº”åŸºè°ƒå’Œä¸“ä¸šè§’è‰²</li>
                    <li><strong>é¡¹ç›®è“å›¾</strong>ç¡®ä¿éµå¾ªæ¶æ„åŸåˆ™å’Œå®‰å…¨è¦æ±‚</li>
                    <li><strong>ä¸“ä¸šåŒ–å·¥å…·ç®±</strong>æä¾›å…·ä½“çš„å®æ–½æ­¥éª¤å’Œæœ€ä½³å®è·µ</li>
                </ul>
                <p>AIå°†ç”Ÿæˆç¬¦åˆæ‰€æœ‰é¡¹ç›®è§„èŒƒçš„é«˜è´¨é‡ä»£ç ï¼ŒçœŸæ­£æˆä¸ºæ·±åº¦ç†è§£é¡¹ç›®çš„æ™ºèƒ½å¼€å‘ä¼™ä¼´ã€‚</p>
            </div>
        </div>

        <!-- é¡µè„š -->
        <div class="footer">
            <h3>ğŸ¯ æ€»ç»“</h3>
            <p>é€šè¿‡å¤šå±‚æ¬¡è§„åˆ™æ¶æ„ï¼Œæˆ‘ä»¬å°†AIä»ç®€å•çš„ä»£ç ç”Ÿæˆå·¥å…·è½¬å˜ä¸ºç†è§£é¡¹ç›®æ¶æ„ã€éµå¾ªå›¢é˜Ÿæœ€ä½³å®è·µçš„æ™ºèƒ½å¼€å‘ä¼™ä¼´ã€‚</p>
            <p style="margin-top: 15px; color: #7f8c8d;">
                ğŸ“º å…³æ³¨æˆ‘çš„Bç«™é¢‘é“ï¼Œè·å–æ›´å¤šCursor AIå¼€å‘æŠ€å·§ï¼<br>
                ğŸ”— ä¸‹æœŸé¢„å‘Šï¼šCursor Rulesé«˜çº§åº”ç”¨ä¸å›¢é˜Ÿåä½œ
            </p>
        </div>
    </div>
</body>
</html>